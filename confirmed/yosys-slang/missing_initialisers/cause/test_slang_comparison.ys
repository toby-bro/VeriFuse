# Test with NATIVE Yosys frontend (for comparison - this should PASS)

plugin -i slang
read_slang <<EOT
module top (
    input logic [3:0] in_a,
    input logic [3:0] in_b,
    input logic sel1,
    input logic sel2,
    output logic [3:0] out_y
);
    logic [3:0] inc_a = in_a + 4'd1;
    logic [3:0] dec_b = in_b - 4'd1;

    assign out_y = sel1 ? (sel2 ? in_a : in_b)
                        : (sel2 ? inc_a : dec_b);
endmodule
EOT

prep

# Checking for arithmetic cells (native frontend generates them correctly)
select t:$add
select t:$sub

# These assertions should PASS with native frontend:
select -assert-count 1 t:$add  # PASSES: $add cell exists
select -assert-count 1 t:$sub  # PASSES: $sub cell exists

# SUCCESS: Native frontend correctly synthesizes variable initializers
