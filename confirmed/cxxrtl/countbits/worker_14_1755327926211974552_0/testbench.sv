// Generated SystemVerilog testbench
// Do not edit this file directly : edit the template in internal/testgen/testbenches.go and generator.go

module top;
    logic clk;
    logic [7:0] in_d;
    logic [7:0] inj_c_1755327926877_515;
    logic inj_condition_m10_1755327926899_772;
    logic inj_in_a_1755327926597_456;
    logic inj_in_b_1755327926597_288;
    logic [31:0] inj_in_val_1755327926679_968;
    logic [1:0] inj_in_val_1755327927134_292;
    logic [7:0] inj_wdata_1755327926605_780;
    logic [63:0] inj_wide_a_1755327927347_668;
    logic [63:0] inj_wide_b_1755327927347_670;
    logic rst;
    logic [3:0] cnt;
    logic [127:0] inj_concat_out_1755327927347_427;
    logic inj_o_1755327927318_827;
    logic inj_out_a_1755327926996_303;
    logic inj_out_c_1755327926597_759;
    logic inj_out_l_1755327927422_888;
    logic inj_out_res_1755327927134_581;
    logic [31:0] inj_out_val_1755327926679_899;
    logic [7:0] inj_out_val_e_1755327926794_252;
    logic [7:0] inj_out_val_m10_1755327926899_456;
    logic inj_q_1755327926598_87;
    logic [7:0] inj_reduce_xor_out_1755327927347_628;
    logic [7:0] inj_result_and_1755327926877_946;
    logic [7:0] inj_result_and_1755327927243_949;
    logic [7:0] inj_result_or_1755327926877_344;
    logic [7:0] inj_result_or_1755327927243_40;
    logic [7:0] inj_result_xor_1755327926877_731;
    logic [7:0] inj_result_xor_1755327927243_76;
    logic inj_status_e_1755327926794_433;
    logic inj_tok_out_1755327926900_192;
    logic [63:0] inj_wide_sum_1755327927347_424;
    logic inj_write_status_1755327926605_259;

    countbits_ops dut (
        .clk(clk),
        .in_d(in_d),
        .inj_c_1755327926877_515(inj_c_1755327926877_515),
        .inj_condition_m10_1755327926899_772(inj_condition_m10_1755327926899_772),
        .inj_in_a_1755327926597_456(inj_in_a_1755327926597_456),
        .inj_in_b_1755327926597_288(inj_in_b_1755327926597_288),
        .inj_in_val_1755327926679_968(inj_in_val_1755327926679_968),
        .inj_in_val_1755327927134_292(inj_in_val_1755327927134_292),
        .inj_wdata_1755327926605_780(inj_wdata_1755327926605_780),
        .inj_wide_a_1755327927347_668(inj_wide_a_1755327927347_668),
        .inj_wide_b_1755327927347_670(inj_wide_b_1755327927347_670),
        .rst(rst),
        .cnt(cnt),
        .inj_concat_out_1755327927347_427(inj_concat_out_1755327927347_427),
        .inj_o_1755327927318_827(inj_o_1755327927318_827),
        .inj_out_a_1755327926996_303(inj_out_a_1755327926996_303),
        .inj_out_c_1755327926597_759(inj_out_c_1755327926597_759),
        .inj_out_l_1755327927422_888(inj_out_l_1755327927422_888),
        .inj_out_res_1755327927134_581(inj_out_res_1755327927134_581),
        .inj_out_val_1755327926679_899(inj_out_val_1755327926679_899),
        .inj_out_val_e_1755327926794_252(inj_out_val_e_1755327926794_252),
        .inj_out_val_m10_1755327926899_456(inj_out_val_m10_1755327926899_456),
        .inj_q_1755327926598_87(inj_q_1755327926598_87),
        .inj_reduce_xor_out_1755327927347_628(inj_reduce_xor_out_1755327927347_628),
        .inj_result_and_1755327926877_946(inj_result_and_1755327926877_946),
        .inj_result_and_1755327927243_949(inj_result_and_1755327927243_949),
        .inj_result_or_1755327926877_344(inj_result_or_1755327926877_344),
        .inj_result_or_1755327927243_40(inj_result_or_1755327927243_40),
        .inj_result_xor_1755327926877_731(inj_result_xor_1755327926877_731),
        .inj_result_xor_1755327927243_76(inj_result_xor_1755327927243_76),
        .inj_status_e_1755327926794_433(inj_status_e_1755327926794_433),
        .inj_tok_out_1755327926900_192(inj_tok_out_1755327926900_192),
        .inj_wide_sum_1755327927347_424(inj_wide_sum_1755327927347_424),
        .inj_write_status_1755327926605_259(inj_write_status_1755327926605_259)
    );


    initial begin
        string line;
        int fd;
        int status;

        // Read 10 input files
        clk = 0;

        fd = $fopen("input_in_d.hex", "r");
        if (fd == 0) begin
            $display("Error: Unable to open input_in_d.hex");
            $finish;
        end
        status = $fgets(line, fd);
        status = $sscanf(line, "%h", in_d);
        $fclose(fd);

        fd = $fopen("input_inj_c_1755327926877_515.hex", "r");
        if (fd == 0) begin
            $display("Error: Unable to open input_inj_c_1755327926877_515.hex");
            $finish;
        end
        status = $fgets(line, fd);
        status = $sscanf(line, "%h", inj_c_1755327926877_515);
        $fclose(fd);

        fd = $fopen("input_inj_condition_m10_1755327926899_772.hex", "r");
        if (fd == 0) begin
            $display("Error: Unable to open input_inj_condition_m10_1755327926899_772.hex");
            $finish;
        end
        status = $fgets(line, fd);
        status = $sscanf(line, "%h", inj_condition_m10_1755327926899_772);
        $fclose(fd);

        fd = $fopen("input_inj_in_a_1755327926597_456.hex", "r");
        if (fd == 0) begin
            $display("Error: Unable to open input_inj_in_a_1755327926597_456.hex");
            $finish;
        end
        status = $fgets(line, fd);
        status = $sscanf(line, "%h", inj_in_a_1755327926597_456);
        $fclose(fd);

        fd = $fopen("input_inj_in_b_1755327926597_288.hex", "r");
        if (fd == 0) begin
            $display("Error: Unable to open input_inj_in_b_1755327926597_288.hex");
            $finish;
        end
        status = $fgets(line, fd);
        status = $sscanf(line, "%h", inj_in_b_1755327926597_288);
        $fclose(fd);

        fd = $fopen("input_inj_in_val_1755327926679_968.hex", "r");
        if (fd == 0) begin
            $display("Error: Unable to open input_inj_in_val_1755327926679_968.hex");
            $finish;
        end
        status = $fgets(line, fd);
        status = $sscanf(line, "%h", inj_in_val_1755327926679_968);
        $fclose(fd);

        fd = $fopen("input_inj_in_val_1755327927134_292.hex", "r");
        if (fd == 0) begin
            $display("Error: Unable to open input_inj_in_val_1755327927134_292.hex");
            $finish;
        end
        status = $fgets(line, fd);
        status = $sscanf(line, "%h", inj_in_val_1755327927134_292);
        $fclose(fd);

        fd = $fopen("input_inj_wdata_1755327926605_780.hex", "r");
        if (fd == 0) begin
            $display("Error: Unable to open input_inj_wdata_1755327926605_780.hex");
            $finish;
        end
        status = $fgets(line, fd);
        status = $sscanf(line, "%h", inj_wdata_1755327926605_780);
        $fclose(fd);

        fd = $fopen("input_inj_wide_a_1755327927347_668.hex", "r");
        if (fd == 0) begin
            $display("Error: Unable to open input_inj_wide_a_1755327927347_668.hex");
            $finish;
        end
        status = $fgets(line, fd);
        status = $sscanf(line, "%h", inj_wide_a_1755327927347_668);
        $fclose(fd);

        fd = $fopen("input_inj_wide_b_1755327927347_670.hex", "r");
        if (fd == 0) begin
            $display("Error: Unable to open input_inj_wide_b_1755327927347_670.hex");
            $finish;
        end
        status = $fgets(line, fd);
        status = $sscanf(line, "%h", inj_wide_b_1755327927347_670);
        $fclose(fd);
        rst = 0;


        // Toggle reset if a reset signal was identified

        // Toggle reset signal rst
        rst = 1; // Assert reset (active high)
        #10;
        rst = 0; // De-assert reset
        #10; // Wait after de-asserting reset


        // Toggle clock signals

        // Toggle clocks for several cycles with timeout protection
        // Set simulation timeout to prevent infinite loops
        fork
            begin
                #780;
                $display("ERROR: Simulation timeout after 780 time units");
                $finish;
            end
            begin
                repeat (50) begin
                    clk = 0;
                    #5;
                    clk = 1;
                    #5;
                end
            end
        join_any
        disable fork; // Kill timeout process


        // Allow module to process and settle
        #10; // Increased delay for settling
        
        // Additional clock cycles to ensure all sequential logic settles
        #10;
        #10;

        // Write 22 output files

        fd = $fopen("output_cnt.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_cnt.hex' for port 'cnt'.", "output_cnt.hex", "cnt");
            $finish;
        end
        for (int i = 3; i >= 0; i--) begin
            $fwrite(fd, "%b", cnt[i]);
        end
        $fwrite(fd, "\n");        $fclose(fd);

        fd = $fopen("output_inj_concat_out_1755327927347_427.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_concat_out_1755327927347_427.hex' for port 'inj_concat_out_1755327927347_427'.", "output_inj_concat_out_1755327927347_427.hex", "inj_concat_out_1755327927347_427");
            $finish;
        end
        for (int i = 127; i >= 0; i--) begin
            $fwrite(fd, "%b", inj_concat_out_1755327927347_427[i]);
        end
        $fwrite(fd, "\n");        $fclose(fd);

        fd = $fopen("output_inj_o_1755327927318_827.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_o_1755327927318_827.hex' for port 'inj_o_1755327927318_827'.", "output_inj_o_1755327927318_827.hex", "inj_o_1755327927318_827");
            $finish;
        end
        $fwrite(fd, "%b\n", inj_o_1755327927318_827);
        $fclose(fd);

        fd = $fopen("output_inj_out_a_1755327926996_303.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_out_a_1755327926996_303.hex' for port 'inj_out_a_1755327926996_303'.", "output_inj_out_a_1755327926996_303.hex", "inj_out_a_1755327926996_303");
            $finish;
        end
        $fwrite(fd, "%b\n", inj_out_a_1755327926996_303);
        $fclose(fd);

        fd = $fopen("output_inj_out_c_1755327926597_759.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_out_c_1755327926597_759.hex' for port 'inj_out_c_1755327926597_759'.", "output_inj_out_c_1755327926597_759.hex", "inj_out_c_1755327926597_759");
            $finish;
        end
        $fwrite(fd, "%b\n", inj_out_c_1755327926597_759);
        $fclose(fd);

        fd = $fopen("output_inj_out_l_1755327927422_888.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_out_l_1755327927422_888.hex' for port 'inj_out_l_1755327927422_888'.", "output_inj_out_l_1755327927422_888.hex", "inj_out_l_1755327927422_888");
            $finish;
        end
        $fwrite(fd, "%b\n", inj_out_l_1755327927422_888);
        $fclose(fd);

        fd = $fopen("output_inj_out_res_1755327927134_581.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_out_res_1755327927134_581.hex' for port 'inj_out_res_1755327927134_581'.", "output_inj_out_res_1755327927134_581.hex", "inj_out_res_1755327927134_581");
            $finish;
        end
        $fwrite(fd, "%b\n", inj_out_res_1755327927134_581);
        $fclose(fd);

        fd = $fopen("output_inj_out_val_1755327926679_899.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_out_val_1755327926679_899.hex' for port 'inj_out_val_1755327926679_899'.", "output_inj_out_val_1755327926679_899.hex", "inj_out_val_1755327926679_899");
            $finish;
        end
        for (int i = 31; i >= 0; i--) begin
            $fwrite(fd, "%b", inj_out_val_1755327926679_899[i]);
        end
        $fwrite(fd, "\n");        $fclose(fd);

        fd = $fopen("output_inj_out_val_e_1755327926794_252.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_out_val_e_1755327926794_252.hex' for port 'inj_out_val_e_1755327926794_252'.", "output_inj_out_val_e_1755327926794_252.hex", "inj_out_val_e_1755327926794_252");
            $finish;
        end
        for (int i = 7; i >= 0; i--) begin
            $fwrite(fd, "%b", inj_out_val_e_1755327926794_252[i]);
        end
        $fwrite(fd, "\n");        $fclose(fd);

        fd = $fopen("output_inj_out_val_m10_1755327926899_456.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_out_val_m10_1755327926899_456.hex' for port 'inj_out_val_m10_1755327926899_456'.", "output_inj_out_val_m10_1755327926899_456.hex", "inj_out_val_m10_1755327926899_456");
            $finish;
        end
        for (int i = 7; i >= 0; i--) begin
            $fwrite(fd, "%b", inj_out_val_m10_1755327926899_456[i]);
        end
        $fwrite(fd, "\n");        $fclose(fd);

        fd = $fopen("output_inj_q_1755327926598_87.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_q_1755327926598_87.hex' for port 'inj_q_1755327926598_87'.", "output_inj_q_1755327926598_87.hex", "inj_q_1755327926598_87");
            $finish;
        end
        $fwrite(fd, "%b\n", inj_q_1755327926598_87);
        $fclose(fd);

        fd = $fopen("output_inj_reduce_xor_out_1755327927347_628.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_reduce_xor_out_1755327927347_628.hex' for port 'inj_reduce_xor_out_1755327927347_628'.", "output_inj_reduce_xor_out_1755327927347_628.hex", "inj_reduce_xor_out_1755327927347_628");
            $finish;
        end
        for (int i = 7; i >= 0; i--) begin
            $fwrite(fd, "%b", inj_reduce_xor_out_1755327927347_628[i]);
        end
        $fwrite(fd, "\n");        $fclose(fd);

        fd = $fopen("output_inj_result_and_1755327926877_946.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_result_and_1755327926877_946.hex' for port 'inj_result_and_1755327926877_946'.", "output_inj_result_and_1755327926877_946.hex", "inj_result_and_1755327926877_946");
            $finish;
        end
        for (int i = 7; i >= 0; i--) begin
            $fwrite(fd, "%b", inj_result_and_1755327926877_946[i]);
        end
        $fwrite(fd, "\n");        $fclose(fd);

        fd = $fopen("output_inj_result_and_1755327927243_949.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_result_and_1755327927243_949.hex' for port 'inj_result_and_1755327927243_949'.", "output_inj_result_and_1755327927243_949.hex", "inj_result_and_1755327927243_949");
            $finish;
        end
        for (int i = 7; i >= 0; i--) begin
            $fwrite(fd, "%b", inj_result_and_1755327927243_949[i]);
        end
        $fwrite(fd, "\n");        $fclose(fd);

        fd = $fopen("output_inj_result_or_1755327926877_344.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_result_or_1755327926877_344.hex' for port 'inj_result_or_1755327926877_344'.", "output_inj_result_or_1755327926877_344.hex", "inj_result_or_1755327926877_344");
            $finish;
        end
        for (int i = 7; i >= 0; i--) begin
            $fwrite(fd, "%b", inj_result_or_1755327926877_344[i]);
        end
        $fwrite(fd, "\n");        $fclose(fd);

        fd = $fopen("output_inj_result_or_1755327927243_40.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_result_or_1755327927243_40.hex' for port 'inj_result_or_1755327927243_40'.", "output_inj_result_or_1755327927243_40.hex", "inj_result_or_1755327927243_40");
            $finish;
        end
        for (int i = 7; i >= 0; i--) begin
            $fwrite(fd, "%b", inj_result_or_1755327927243_40[i]);
        end
        $fwrite(fd, "\n");        $fclose(fd);

        fd = $fopen("output_inj_result_xor_1755327926877_731.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_result_xor_1755327926877_731.hex' for port 'inj_result_xor_1755327926877_731'.", "output_inj_result_xor_1755327926877_731.hex", "inj_result_xor_1755327926877_731");
            $finish;
        end
        for (int i = 7; i >= 0; i--) begin
            $fwrite(fd, "%b", inj_result_xor_1755327926877_731[i]);
        end
        $fwrite(fd, "\n");        $fclose(fd);

        fd = $fopen("output_inj_result_xor_1755327927243_76.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_result_xor_1755327927243_76.hex' for port 'inj_result_xor_1755327927243_76'.", "output_inj_result_xor_1755327927243_76.hex", "inj_result_xor_1755327927243_76");
            $finish;
        end
        for (int i = 7; i >= 0; i--) begin
            $fwrite(fd, "%b", inj_result_xor_1755327927243_76[i]);
        end
        $fwrite(fd, "\n");        $fclose(fd);

        fd = $fopen("output_inj_status_e_1755327926794_433.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_status_e_1755327926794_433.hex' for port 'inj_status_e_1755327926794_433'.", "output_inj_status_e_1755327926794_433.hex", "inj_status_e_1755327926794_433");
            $finish;
        end
        $fwrite(fd, "%b\n", inj_status_e_1755327926794_433);
        $fclose(fd);

        fd = $fopen("output_inj_tok_out_1755327926900_192.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_tok_out_1755327926900_192.hex' for port 'inj_tok_out_1755327926900_192'.", "output_inj_tok_out_1755327926900_192.hex", "inj_tok_out_1755327926900_192");
            $finish;
        end
        $fwrite(fd, "%b\n", inj_tok_out_1755327926900_192);
        $fclose(fd);

        fd = $fopen("output_inj_wide_sum_1755327927347_424.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_wide_sum_1755327927347_424.hex' for port 'inj_wide_sum_1755327927347_424'.", "output_inj_wide_sum_1755327927347_424.hex", "inj_wide_sum_1755327927347_424");
            $finish;
        end
        for (int i = 63; i >= 0; i--) begin
            $fwrite(fd, "%b", inj_wide_sum_1755327927347_424[i]);
        end
        $fwrite(fd, "\n");        $fclose(fd);

        fd = $fopen("output_inj_write_status_1755327926605_259.hex", "w");
        if (fd == 0) begin
            $display("Error: Unable to open output file 'output_inj_write_status_1755327926605_259.hex' for port 'inj_write_status_1755327926605_259'.", "output_inj_write_status_1755327926605_259.hex", "inj_write_status_1755327926605_259");
            $finish;
        end
        $fwrite(fd, "%b\n", inj_write_status_1755327926605_259);
        $fclose(fd);


        $finish;
    end
endmodule